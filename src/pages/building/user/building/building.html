<ion-header>

  <ion-navbar>
    <ion-buttons left>
      <button ion-button icon-only (click)="goToHomePage()">
        <ion-icon name="ios-home"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title text-center>
      {{ items.buildingName }}
    </ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="closeModal()">
        <ion-icon name="ios-close"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding style="background-color: gray; color: yellow">
  <ion-grid>

    <ion-row>
      <ion-col col-12 text-center>
        <button ion-button round color="secondary" (click)="navigate()">นำทาง</button>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-12 text-center>
        <img src="../../../../assets/imgs/default.png" style="width: 300px; height: 200px" *ngIf="!img">
        <img [src]="this.img" style="width: 200px; height: 200px" *ngIf="img">
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-1></ion-col>
      <ion-col col-11>
        <ion-label>ตัวอักษรย่อเรียกแทนชื่ออาคาร : {{ items.initials }}</ion-label>
        <ion-label>เวลาเปิด – ปิดอาคาร : {{ items.openClosed }}</ion-label>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-12 text-center style="font-size: 125%">
        คะแนนเฉลี่ยประมาณ {{ average }} / 5 คะแนน
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-12 text-center>
        <button ion-button icon-only color={{star1}} (click)="changeColor(1)">
          <ion-icon name="ios-star"></ion-icon>
        </button>
        <button ion-button icon-only color={{star2}} (click)="changeColor(2)">
          <ion-icon name="ios-star"></ion-icon>
        </button>
        <button ion-button icon-only color={{star3}} (click)="changeColor(3)">
          <ion-icon name="ios-star"></ion-icon>
        </button>
        <button ion-button icon-only color={{star4}} (click)="changeColor(4)">
          <ion-icon name="ios-star"></ion-icon>
        </button>
        <button ion-button icon-only color={{star5}} (click)="changeColor(5)">
          <ion-icon name="ios-star"></ion-icon>
        </button>
        <button ion-button color="secondary" (click)="saveScore()">บันทึกคะแนน</button>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-12 text-center>
        <button ion-button color="primary" (click)="goToCommentPage()">ความคิดเห็นทั้งหมด</button>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col col-12>
        <ion-list>
          <ion-item style="background-color: gray; color: yellow" *ngFor="let comment of comments">
            <h2>{{ comment.eamil }}</h2>
            <h3>&nbsp;&nbsp;{{ comment.comment }}</h3>
            <button ion-button clear item-end style="color: #f0ad4e" (click)="update(comment.key)" *ngIf="comment.eamil==email">แก้ไข</button>
            <button ion-button clear item-end style="color: #ff0800" (click)="delete(comment.key)" *ngIf="comment.eamil==email">ลบ</button>
          </ion-item>
        </ion-list>
      </ion-col>
    </ion-row>

    <form #myform="ngForm" (ngSubmit)="onSubmit(myform)">
      <ion-row>
        <ion-col col-12>
          <ion-item style="background-color: white; color: black">
            <ion-label style="color:black" floating>ความคิดเห็น</ion-label>
            <ion-textarea type="text" rows="3" [(ngModel)]="comment" name="comment"></ion-textarea>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col col-12>
          <button ion-button block type="submit" color="secondary">บันทึกความคิดเห็น</button>
        </ion-col>
      </ion-row>
    </form>

  </ion-grid>

</ion-content>